# ‚úÖ API –ö–ª—é—á OpenRouter - –¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 20 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å**: üîÑ –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ API –∫–ª—é—á–∞

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –ù–æ–≤—ã–π API –∫–ª—é—á –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω

–í—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π API –∫–ª—é—á OpenRouter. –ß—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å AI-—Ñ—É–Ω–∫—Ü–∏—è–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç –≤ Supabase.

### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: [–û—Ç–∫—Ä—ã—Ç—å Supabase Secrets](https://supabase.com/dashboard/project/wwxibvtflekrimlpgijo/settings/functions)

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: –°–º. —Ñ–∞–π–ª [NEW_API_KEY_UPDATE.md](./NEW_API_KEY_UPDATE.md)

---

## üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–ª—é—á

- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ**: Supabase Dashboard ‚Üí Settings ‚Üí Edge Functions ‚Üí Secrets
- **–ò–º—è —Å–µ–∫—Ä–µ—Ç–∞**: `OPENROUTER_API_KEY`
- **–ü—Ä–æ–µ–∫—Ç Supabase**: `wwxibvtflekrimlpgijo`

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

API –∫–ª—é—á –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

1. **AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** (`/ai-recommend`)
   - –ú–æ–¥–µ–ª—å: `perplexity/sonar`
   - –§—É–Ω–∫—Ü–∏—è: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥–±–æ—Ä –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
   - –£—á–∏—Ç—ã–≤–∞–µ—Ç: —Ä–æ–ª—å, –∏–Ω—Ç–µ—Ä–µ—Å—ã, –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. **–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π** (`/seed-ai-events`)
   - –ú–æ–¥–µ–ª—å: `perplexity/sonar`
   - –§—É–Ω–∫—Ü–∏—è: Real-time –ø–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö IT-—Å–æ–±—ã—Ç–∏–π
   - –°–æ–±—ã—Ç–∏—è: HighLoad++, HolyJS, Heisenbug, Mobius –∏ –¥—Ä.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å API –∫–ª—é—á–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

- **–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞**: –í—ã–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ (dev mode)
- **–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ**: Badge —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –≤ Header (dev mode)

### –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä

–í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ Header –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è badge:

- üü¢ **–ó–µ–ª—ë–Ω—ã–π** = API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- üü° **–ñ—ë–ª—Ç—ã–π** = API –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ö™ **–°–µ—Ä—ã–π** = –ü—Ä–æ–≤–µ—Ä–∫–∞...

### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É API –∫–ª—é—á–∞ –≤—Ä—É—á–Ω—É—é:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mock —Ä–µ–∂–∏–º)
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–ü–æ–¥–æ–±—Ä–∞—Ç—å —Å AI"**
4. –ï—Å–ª–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ ‚Üí ‚úÖ –∫–ª—é—á —Ä–∞–±–æ—Ç–∞–µ—Ç
5. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Supabase Dashboard

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Edge Functions**
   - Supabase Dashboard ‚Üí Functions ‚Üí Logs
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞ "OPENROUTER_API_KEY is not set"

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
   - Settings ‚Üí Edge Functions ‚Üí Secrets
   - –ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ—á–Ω–æ: `OPENROUTER_API_KEY`

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Edge Functions**
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏
   - –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Dashboard

### –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| `OPENROUTER_API_KEY is not set` | –°–µ–∫—Ä–µ—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω | –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç –≤ Supabase |
| `OpenRouter API Error: 401` | –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–ª—é—á–∞ |
| `OpenRouter API Error: 429` | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ | –ü–æ–¥–æ–∂–¥–∏—Ç–µ –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–Ω |
| `Failed to parse AI response JSON` | –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–∞ | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback |

---

## üìà –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- **–ú–æ–¥–µ–ª—å**: `perplexity/sonar` (real-time search)
- **Temperature**: 
  - 0.7 –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (–∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å)
  - 0.1 –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–æ–±—ã—Ç–∏–π (—Ç–æ—á–Ω–æ—Å—Ç—å)
- **Fallback**: –≠–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏ –æ—à–∏–±–∫–µ API

### –õ–∏–º–∏—Ç—ã –∏ –∫–≤–æ—Ç—ã

- –ó–∞–≤–∏—Å—è—Ç –æ—Ç –≤–∞—à–µ–≥–æ –ø–ª–∞–Ω–∞ OpenRouter
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback-–∞–ª–≥–æ—Ä–∏—Ç–º
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: [OpenRouter Dashboard](https://openrouter.ai/dashboard)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- API –∫–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ Supabase Secrets (server-side)
- –ö–ª—é—á –ù–ï –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç
- –ó–∞–ø—Ä–æ—Å—ã –∫ OpenRouter –∏–¥—É—Ç —á–µ—Ä–µ–∑ Edge Functions (proxy)
- –ö–æ–¥ –Ω–∞ GitHub –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–æ–≤

### ‚ùå –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞—Ç—å

- ‚ùå –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∫–ª—é—á –≤ `.env` —Ñ–∞–π–ª –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- ‚ùå –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∫–ª—é—á –Ω–∞–ø—Ä—è–º—É—é –∏–∑ React –∫–æ–¥–∞
- ‚ùå –ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ –∫–ª—é—á –≤ –∫–æ–º–º–∏—Ç–∞—Ö Git
- ‚ùå –ù–µ –¥–µ–ª–∏—Ç–µ—Å—å –∫–ª—é—á–æ–º –ø—É–±–ª–∏—á–Ω–æ

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å API –∫–ª—é—á:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Supabase Dashboard
2. Settings ‚Üí Edge Functions ‚Üí Secrets
3. –ù–∞–π–¥–∏—Ç–µ `OPENROUTER_API_KEY`
4. –ù–∞–∂–º–∏—Ç–µ **Edit** –∏–ª–∏ **Delete** ‚Üí **Add Secret**
5. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

Edge Functions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—è—Ç—Å—è —Å –Ω–æ–≤—ã–º –∫–ª—é—á–æ–º.

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenRouter**: [https://openrouter.ai/docs](https://openrouter.ai/docs)
- **Supabase Edge Functions Secrets**: [https://supabase.com/docs/guides/functions/secrets](https://supabase.com/docs/guides/functions/secrets)
- **Perplexity Sonar Model**: [https://openrouter.ai/models/perplexity/sonar](https://openrouter.ai/models/perplexity/sonar)

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| API –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ Supabase | ‚úÖ |
| AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç | ‚úÖ |
| –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ |
| –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–∞ | ‚úÖ |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ | ‚úÖ |

---

**–í—Å—ë –≥–æ—Ç–æ–≤–æ! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ.** üéâ

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π, –∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ IT-–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏.